<html>
<head>
    <style type="text/css">
        body { font-family: courier; font-size:12px; white-space: pre-wrap; margin-left: 42px; width: 465px; }
        h2 { margin: 10px 0 0 -22px; font-size:12px; padding: 0 !important }
        table { font-size: 10px; margin-left: -22px; width: 450px; }
        div.header { padding: 0; margin: 0 0 0 -22px }
    </style>
</head>
<body>

<div class="header">
ATLAS Service Template Specification
Name                                        fertilisation_advisor
Version                                                     0.3.6
Status                                                  PUBLISHED
Author(s)                           M. Caballero (5AgriCircle AG)
</div>


<h2>The "field_data" ATLAS Service Template</h2>

<div class="header">
Abstract

This document describes the specifications for field_data
services whose purpose is to store and make accessible a number
of shareworthy intrinsic attributes and properties of a farmer's
fields to authorized ATLAS network consumers.
</div>

<h2>1 Introduction</h2>
Field data is information that is relevant to a large number
of services and platforms in the ATLAS network. Services
implementing the field_data service template provide a
reference storage (source of truth) from which other
services and platforms may retrieve data or synchronize
their data with.

The field_data service template is designed with the idea
that a single service instance is configured in all the
services used by a farmer that require field information.
Having a common field_data service for all farmer's services
means that field information MAY be exchanged via a "field
reference" (URI) rather than with the actual data and that
shareable information can be managed at a single location
and be available for all consumers.

<h2>2 Terminology</h2>

The key words "MUST", "MUST NOT", "REQUIRED", "SHALL",
"SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED",
"NOT RECOMMENDED", "MAY", and "OPTIONAL" in this document
are to be interpreted as described in RFC 2119 and indicate
requirement levels for compliant implementations.

The notation "[xxx]" (xxx in square brackets) is equivalent
to "array of xxx".

When used alone, the term "field_data" refers to "field_data
service template". Instead, "field_data service" is
equivalent to "a service implementing the field_data service
template".

<h2>3 Pre-requisites</h2>

A thorough understanding in the following is required for
both service consumers or service implementors:

    - GeoJSON specifications (<a href="https://geojson.org/">https://geojson.org/</a>)
    - GeoPackage specifications (<a href="https://www.geopackage.org/">https://www.geopackage.org/</a>)

<h2>4 field_data Use Scenarios</h2>

The following sections describe some aspects of the use of
field_data.  The examples were chosen to illustrate the
basic operation of applications using field_data, not to
limit what field_data may be used for.

<h2>4.1 Field Synchronisation</h2>

Farmers typically use several software platforms. It is
often the case that a few of these platforms require
information of field boundaries for their operations.

In ATLAS, field_data services provide a single source of
truth for field information but most existing software
require a local copy of the data.

The field_data subscriptions enable the establishment of a
simple data mirroring mechanism so that all participating
farmer's systems may update their local mirror as soon as
changes occur in a field_data service.

<h2>4.2 Soil Fertilisation</h2>

As a fertilisation operation is performed on a field, the
actual amounts of nutrients that have been applied
(retrieved from the equipment) are updated on the field_data
service.

When another soil fertilisation operation is planned at a
later time, a field_data service may be queried for
nutrients applied from prior operations in order to adjust
the new prescription.

<h2>5 Service Template API Overview</h2>

This section provides a very high-level summary of the
field_data functions:

Basic Endpoints
    List Fields
    Get Field Information
    List Groups
Crop Information
    Get Crop History
    Get Crop Details
Driving Path
    Get Driving Path
Applications Results Endpoints
    Get Application Result
    Add Application Result
Subscription Management Endpoints
    Subscribe
    Refresh a Subscription
    Unsubscribe

Note that there are no operations to update, create, delete
fields. These operations are deliberately excluded from the
field_data template.

Implementations of field_data are responsible for providing
end-user configuration and management tools in their
proprietary user interface, such as import from a shapefile,
boundary editing in the browser, … Any change generated by
these tools must generate an appropriate notification to
subscribers (see 5.5 Subscription Management Functions).

Fields SHALL NOT be deleted under any condition (by the
implementation's management application) so that references
held to this field by external consumers remain valid over
time. When a field is no longer relevant for new operations,
it's archived property will be set to "true". Important
note: an archived field can never be modified, including
changing its archived state.

Within this section, operations are summarised with simple
tables:

+--------------------------------------------+
| logical operation name                     |
+-------------+------------------------------+
|      Inputs | &lt;URL parameters or            |
|             | request body attributes&gt;      |
+-------------+------------------------------+
|     Outputs | &lt;body attributes&gt;              |
+-------------+------------------------------+

Only the most meaningful parameters are discussed in this
document. Please refer to the OpenAPI specifications
for full details.

field_data services are not required to handle intense
traffic from a single client, such as the one that may
result from being directly invoked on user interface
interactions in an FMIS, for instance. Implementors MAY
generate a 429 TOO MANY REQUESTS error response if the rate
of calls exceed some pre-defined quota. Clients requiring
more intense field information are advised to implement a
mirroring mechanism using the subscription functions, as
outlined in 4.1 Field Synchronisation.

<h2>5.1	Basic Functions</h2>

These operations return basic field information about a
specific field or all fields in an account.

The basic field information includes the id, name and
GeoJSON polygon boundary of a field. For detailed
specifications, refer to the field_data OpenAPI
specifications.

<h2>5.1.1 List Fields</h2>

This function returns the list of all fields (base information only) in an account

+--------------------------------------------+
| list_fields                                |
+-------------+------------------------------+
|      Inputs | optional group id            |
+-------------+------------------------------+
|     Outputs | [urn, field info]            |
+-------------+------------------------------+

Archived fields SHALL NOT be returned by list_fields.

<h2>5.1.2	Get Field Information</h2>

This function returns the base information of a specific field.

+--------------------------------------------+
| get_field_info                             |
+-------------+------------------------------+
|      Inputs | optional group id            |
+-------------+------------------------------+
|     Outputs | id, urn, name, boundaries    |
+-------------+------------------------------+

Services MUST return information even when the field is
archived.

A field urn MUST have the following format:

    urn:&lt;service_id&gt;:&lt;field_id&gt;

where &lt;service_id&gt; is the ATLAS id of the field_data service
on which the query was made. Field URNs are often passed as
parameters to other types of services. These services must
validate that the &lt;service_id&gt; in the URN matches a
field_data service to which they are paired.

Boundaries are defined as a GeoJSON polygon feature where
the "holes" represent areas with driving restrictions
(water, trees, fenced area, …). The coordinates MAY include
elevation information relevant to drivability.

<h2>5.1.3 List Groups</h2>

This function returns the list of groups defined in an
account. Fields may be arbitrarily grouped for convenience
in a field_data service (i.e., annual crops, orchards,
vineyards …) in order to optimize the queries for relevant
fields. The group definition and configuration, if any,
should be provided by the vendor's proprietary configuration
and management tools.

+--------------------------------------------+
| list_groups                                |
+-------------+------------------------------+
|      Inputs | none                         |
+-------------+------------------------------+
|     Outputs | [id, name, description]      |
+-------------+------------------------------+

A specific implementation may elect not to provide groups in
which case they must simply return an empty array.

<h2>5.2 Crop Information</h2>

<h2>5.2.1 Get Crop History</h2>

Returns information on crops over time in the field.

+--------------------------------------------+
| get_crop_history                           |
+-------------+------------------------------+
|      Inputs | field id                     |
+-------------+------------------------------+
|     Outputs | [crop details]               |
+-------------+------------------------------+

Services MUST return the history in chronological order
(sorted by ascending dates)

 Crop history information MUST be immutable except for the
most current item which may be edited.

<h2>5.2.2 Get Crop Details</h2>

+--------------------------------------------+
| get_crop_details                           |
+-------------+------------------------------+
|      Inputs | field id, date               |
+-------------+------------------------------+
|     Outputs | date, crop id, layout,       |
|             | season_start_date            |
+-------------+------------------------------+

Services MUST return the crop information corresponding to
the most recent information whose date is smaller or equal
to the requested date.

If no crop details are available, services MUST return
204 NO CONTENT.

If date is not specified, the current (latest) crop details
are returned.

If date is specified it MUST NOT be in the future.

If no date match is found (date is older that oldest crop
details), services MUST return 204 NO CONTENT.

The crop layout represents the "seedable" areas of the
field, such as vineyard rows, individual trees, etc. The
coordinates MAY include elevation information relevant to
the type of crop.

Crop layout, if present, MUST be fully contained within the
field boundaries.

season_start_date is the date at which the latest crop
season starts. When available, it MUST NOT be older than 9
months from the current date. Otherwise, it MUST be omitted
(even if an outdated value is available in the service).

<h2>5.3 Driving Path</h2>

<h2>5.3.1 Get Driving Path</h2>

Only "AB Line" are supported at the moment. By convention,
the AB line must be aligned with the edge of a field
boundary; it will be dynamically adjusted by the consumer to
take the width of the attached implement into account.

+--------------------------------------------+
| get_driving_path                           |
+-------------+------------------------------+
|      Inputs | field id                     |
+-------------+------------------------------+
|     Outputs | start point coordinates,     |
|             | end point coordinates        |
+-------------+------------------------------+

If not driving path is defined or not supported, services
MUST return 204 NO CONTENT error.

<h2>5.4 Applications Results Functions</h2>

Application results are operations that are performed on a
field, yielding results in the form of application maps,
that are necessary for reporting or as inputs for other
services. At this time, field_data defines specific
application results formats for "fertilization",
"crop_protection", "irrigation", "harvesting" and "sowing".
A general-purpose type "other" is available for types of
applications that have not yet been formalized
(see 6.1 Application Results File Formats).

The results of an application are always in GeoPackage
format but with conventions that are specific to each
application type.

<h2>5.4.1 Get Application Results</h2>

Returns the information on specific nutrient amounts that
have been applied to a field

+--------------------------------------------+
| get_application_results                    |
+-------------+------------------------------+
|      Inputs | field id, application_type,  |
|             | from_date                    |
+-------------+------------------------------+
|     Outputs | [date, application metadata, |
|             |  gpkg download url]          |
+-------------+------------------------------+

<h2>5.4.2  Add Application Result</h2>

Stores application data for resulting from a specific
application type performed on a field. The applications are
immutable and cannot be updated or deleted.

+--------------------------------------------+
| add_application_result                     |
+-------------+------------------------------+
|      Inputs | field id, gpkg               |
+-------------+------------------------------+
|     Outputs | none                         |
+-------------+------------------------------+

A field_data service MUST validate that gpkg (application
result GeoPackage) is in valid format (see 6.1 Application
Results File Formats.

<h2>5.5 Subscription Management Functions</h2>

<h2>5.5.1 Subscribe</h2>

Registers a notification URL that will be invoked by the
field service whenever information about a field is changed.
Subscriptions may automatically expire after some time and
must be explicitly refreshed by their creator to remain in
the system.

+--------------------------------------------+
| subscribe                                  |
+-------------+------------------------------+
|      Inputs | Notification URL             |
+-------------+------------------------------+
|     Outputs | Subscription id,             |
|             | expiration date              |
+-------------+------------------------------+

<h2>5.5.2 Refresh a Subscription</h2>

Refresh a subscription to prevent it from being
automatically cancelled.

+--------------------------------------------+
| refresh_subscription                       |
+-------------+------------------------------+
|      Inputs | Subscription id              |
+-------------+------------------------------+
|     Outputs | expiration date              |
+-------------+------------------------------+

<h2>5.5.3 Unsubscribe</h2>

Refresh a subscription to prevent it from being
automatically cancelled.

+--------------------------------------------+
| unsubscribe                                |
+-------------+------------------------------+
|      Inputs | Subscription id              |
+-------------+------------------------------+
|     Outputs | none                         |
+-------------+------------------------------+

<h2>6 Data Formats</h2>

This section focuses on the description of binary (file)
data formats. Please refer to the field_data OpenAPI
specifications for details on all other payload and
parameter descriptions.

<h2>6.1 Application Results File Formats</h2>

Application result data MUST be in GeoPackage
(<a href="https://www.geopackage.org/">https://www.geopackage.org/</a>) format version 1.2 or newer.

+=========================================================+
|                TABLE gpkg_contents                      |
+=====+=============+=====================================+
| ROW | COLUMN      | VALUE                               |
+-----+-------------+-------------------------------------+
|     | table_name  | "atlas"                             |
|     +-------------+-------------------------------------+
|     | data_type   | "attributes"                        |
+-----+-------------+-------------------------------------+
|     | table_name  | "application_info"                  |
|     +-------------+-------------------------------------+
|     | data_type   | "attributes"                        |
+-----+-------------+-------------------------------------+

All Atlas GeoPackage files MUST contain an attributes table
named "atlas" with the following structure:

+============================+
|     TABLE atlas            |
+================+===========+
| COLUMN         | TYPE      |
+----------------+-----------+
| id             | INTEGER   |
| type           | TEXT      |
| participant    | TEXT      |
| format_version | TEXT      |
+----------------+-----------+

and a single row:

+=========================================================+
|                TABLE atlas                              |
+=====+================+==================================+
| ROW | COLUMN         | VALUE                            |
+-----+----------------+----------------------------------+
|     | type           | "application_result"             |
|     +----------------+----------------------------------+
|     | participant    | "&lt;atlas participant id&gt;"         |
|  1  +----------------+----------------------------------+
|     | application    | "…"                              |
|     +----------------+----------------------------------+
|     | format_version | "MAJOR.MINOR"                    |
+-----+----------------+----------------------------------+

Services SHALL validate that the "atlas.participant" field
matches the information attached to the authentication
context in which the file is uploaded.

If the GeoPackage was generated and uploaded by an Atlas
Service, then "atlas.application" SHOULD be
"&lt;service name&gt;-&lt;service version&gt;", otherwise it MAY contain
"&lt;application name&gt;-&lt;application version&gt;". In either case,
no validation will be performed.

The "atlas.format_version" field MUST be the version of the
field_data template that is targeted by the client uploading
the file. GeoPackage files of a given type are guaranteed to
be compatible (no breaking changes) for a same MAJOR version
of "atlas.format_version".

field_data services MUST validate that the "atlas.type"
column is equal to "application_result".

By general convention, all application result GeoPackage
files MUST contain an attributes table named
"application_info" with the following structure:

+============================+
|  TABLE application_info    |
+================+===========+
| COLUMN         | TYPE      |
+----------------+-----------+
| id             | INTEGER   |
| type           | TEXT      |
| date           | DATETIME  |
| info           | TEXT      |
+----------------+-----------+

and a single row:

+=========================================================+
|                TABLE application_info                   |
+=====+=============+=====================================+
| ROW | COLUMN      | VALUE                               |
+-----+-------------+-------------------------------------+
|     | type        | "fertilization|crop_protection|     |
|     |             | irrigation|harvesting|sowing|other" |
|  1  +-------------+-------------------------------------+
|     | date        | "yyyy-MM-ddTHH:mm:ssZ"              |
|     +-------------+-------------------------------------+
|     | info        | "&lt;type-specific info (JSON)&gt;"       |
+-----+-------------+-------------------------------------+

Additional application type-specific conventions, within the
GeoPackage standard, are defined below. Service
implementations MUST perform basic validity checks on
submitted GeoPackage files to make sure they comply with the
requirements of this section.

<h2>6.1.1 Fertilization Application Type</h2>

In addition to the base tables, a fertilization application
result GeoPackage MUST contain a product data table.

+=========================================================+
|                TABLE gpkg_contents                      |
+=====+=============+=====================================+
| ROW | COLUMN      | VALUE                               |
+-----+-------------+-------------------------------------+
|                    …                                    |
+-----+-------------+-------------------------------------+
|     | table_name  | "product"                           |
|     +-------------+-------------------------------------+
|     | data_type   | "2d-gridded-coverage|features"      |
+-----+-------------+-------------------------------------+

If the data_type of the "product" table is "features", then
the columns must be as follows:

+=========================================================+
|                    TABLE product                        |
+=====+=================+=================================+
| ROW | COLUMN          | VALUE                           |
+-----+-----------------+---------------------------------+
|     | id              | "INTEGER"                       |
|     +-----------------+---------------------------------+
|     | geometry        | "GeoPackage Geometry"           |
|     +-----------------+---------------------------------+
|     | amount          | "amount in product units (REAL)"|
+-----+-----------------+---------------------------------+

Instead, if the data_type of the product table is
"2d-gridded-coverage" then it must be defined as follows:

+=========================================================+
|                    TABLE product                        |
+=====+=================+=================================+
| ROW | COLUMN          | VALUE                           |
+-----+-----------------+---------------------------------+
|     | id              | "INTEGER"                       |
|     +-----------------+---------------------------------+
|     | zoom_level      | "INTEGER"                       |
|     +-----------------+---------------------------------+
|     | tile_column     | "INTEGER"                       |
|     +-----------------+---------------------------------+
|     | tile_row        | "INTEGER"                       |
|     +-----------------+---------------------------------+
|     | tile_data       | "BLOB (TIFF)"                   |
+-----+-----------------+---------------------------------+

Where tile_data is a tiff blob holding Float32 values as per
GeoPackage specifications.

In either case, the product values are in the units
specified in "application_info.info.product.unit".

Fertilization "application_info.info" is a JSON object
serialized as a string, such as:

+-----------------------------------------------+
| {                                             |
|   "product": {                                |
|      "name": "optional name",                 |
|      "unit": "kg|l",                          |
|      "nutrients": {                           |
|         "N": &lt;amount_in_grams_per_unit&gt;,      |
|         "P2O5": &lt;amount_in_grams_per_unit&gt;,   |
|         "K2O": &lt;amount_in_grams_per_unit&gt;,    |
|         …                                     |
|      }                                        |
|   },                                          |
|   "amount": &lt;amount_in_product_unit&gt;          |
| }                                             |
+-----------------------------------------------+

The nutrient identifier (e.g., P2O5) are defined in the
fertilisation_advisor service template. The "amount"
attribute is the total amount of product that was applied on
the entire field; it must match the sum of all values in the
"product" table.

<h2>6.1.2 Crop Protection Application Type</h2>

In addition to the base tables, a crop protection
application result GeoPackage MUST contain a product data
table.

+=========================================================+
|                TABLE gpkg_contents                      |
+=====+=============+=====================================+
| ROW | COLUMN      | VALUE                               |
+-----+-------------+-------------------------------------+
|                    …                                    |
+-----+-------------+-------------------------------------+
|     | table_name  | "product"                           |
|     +-------------+-------------------------------------+
|     | data_type   | "2d-gridded-coverage|features"      |
+-----+-------------+-------------------------------------+

If the data_type of the "product" table is "features", then
the columns must be as follows:

+=========================================================+
|                    TABLE product                        |
+=====+=================+=================================+
| ROW | COLUMN          | VALUE                           |
+-----+-----------------+---------------------------------+
|     | id              | "INTEGER"                       |
|     +-----------------+---------------------------------+
|     | geometry        | "GeoPackage Geometry"           |
|     +-----------------+---------------------------------+
|     | amount          | "amount in product units (REAL)"|
+-----+-----------------+---------------------------------+

Instead, if the data_type of the product table is
"2d-gridded-coverage" then it must be defined as follows:

+=========================================================+
|                    TABLE product                        |
+=====+=================+=================================+
| ROW | COLUMN          | VALUE                           |
+-----+-----------------+---------------------------------+
|     | id              | "INTEGER"                       |
|     +-----------------+---------------------------------+
|     | zoom_level      | "INTEGER"                       |
|     +-----------------+---------------------------------+
|     | tile_column     | "INTEGER"                       |
|     +-----------------+---------------------------------+
|     | tile_row        | "INTEGER"                       |
|     +-----------------+---------------------------------+
|     | tile_data       | "BLOB (TIFF)"                   |
+-----+-----------------+---------------------------------+

Where tile_data is a tiff blob holding Float32 values as per
GeoPackage specifications.

In either case, the product values are in the units
specified in "application_info.info.product.unit".

Crop protection "application_info.info" is a JSON object
serialized as a string, such as:

+-----------------------------------------------+
| {                                             |
|   "product": {                                |
|      "name": "optional name",                 |
|      "unit": "kg|l",                          |
|      "substances": {                          |
|         "80-56-8": &lt;amnt_in_grams_per_unit&gt;,  |
|         …                                     |
|      }                                        |
|   },                                          |
|   "amount": &lt;amount_in_product_unit&gt;          |
| }                                             |
+-----------------------------------------------+

The substance identifier (e.g., 80-56-8) are defined in the
crop_protection_advisor service template. The "amount"
attribute is the total amount of product that was applied on
the entire field; it must match the sum of all values in the
"product" table.

<h2>6.1.3 Irrigation Application Type</h2>

In addition to the base tables, an irrigation application
result GeoPackage MUST contain a water data table.


+=========================================================+
|                TABLE gpkg_contents                      |
+=====+=============+=====================================+
| ROW | COLUMN      | VALUE                               |
+-----+-------------+-------------------------------------+
|                    …                                    |
+-----+-------------+-------------------------------------+
|     | table_name  | "water"                             |
|     +-------------+-------------------------------------+
|     | data_type   | "2d-gridded-coverage|features"      |
+-----+-------------+-------------------------------------+

If the data_type of the "water" table is "features", then
the columns must be as follows:

+=========================================================+
|                    TABLE water                          |
+=====+=================+=================================+
| ROW | COLUMN          | VALUE                           |
+-----+-----------------+---------------------------------+
|     | id              | "INTEGER"                       |
|     +-----------------+---------------------------------+
|     | geometry        | "GeoPackage Geometry"           |
|     +-----------------+---------------------------------+
|     | amount          | "amount in product units (REAL)"|
+-----+-----------------+---------------------------------+

Instead, if the data_type of the water table is
"2d-gridded-coverage" then it must be defined as follows:

+=========================================================+
|                    TABLE water                          |
+=====+=================+=================================+
| ROW | COLUMN          | VALUE                           |
+-----+-----------------+---------------------------------+
|     | id              | "INTEGER"                       |
|     +-----------------+---------------------------------+
|     | zoom_level      | "INTEGER"                       |
|     +-----------------+---------------------------------+
|     | tile_column     | "INTEGER"                       |
|     +-----------------+---------------------------------+
|     | tile_row        | "INTEGER"                       |
|     +-----------------+---------------------------------+
|     | tile_data       | "BLOB (TIFF)"                   |
+-----+-----------------+---------------------------------+

Where tile_data is a tiff blob holding Float32 values as per
GeoPackage specifications.

In either case, the water values are in m3.

Irrigation "application_info.info" is a JSON object
serialized as a string, such as:

+-----------------------------------------------+
| {                                             |
|   "amount": &lt;amount_in_m<sup>3</sup>&gt;                    |
| }                                             |
+-----------------------------------------------+

The "amount" attribute is the total amount of water that was
applied on the entire field; it must match the sum of all
values in the "water" table.


<h2>6.1.4 Harvesting Application Type</h2>

In addition to the base tables, a harvesting application
result GeoPackage MUST contain a yield table.

+=========================================================+
|                TABLE gpkg_contents                      |
+=====+=============+=====================================+
| ROW | COLUMN      | VALUE                               |
+-----+-------------+-------------------------------------+
|                    …                                    |
+-----+-------------+-------------------------------------+
|     | table_name  | "yield"                             |
|     +-------------+-------------------------------------+
|     | data_type   | "2d-gridded-coverage|features"      |
+-----+-------------+-------------------------------------+

If the data_type of the "yield" table is "features", then
the columns must be as follows:

+=========================================================+
|                    TABLE yield                          |
+=====+=================+=================================+
| ROW | COLUMN          | VALUE                           |
+-----+-----------------+---------------------------------+
|     | id              | "INTEGER"                       |
|     +-----------------+---------------------------------+
|     | geometry        | "GeoPackage Geometry"           |
|     +-----------------+---------------------------------+
|     | amount          | "amount in crop units (REAL)"   |
+-----+-----------------+---------------------------------+

Instead, if the data_type of the yield table is
"2d-gridded-coverage" then it must be defined as follows:

+=========================================================+
|                    TABLE yield                          |
+=====+=================+=================================+
| ROW | COLUMN          | VALUE                           |
+-----+-----------------+---------------------------------+
|     | id              | "INTEGER"                       |
|     +-----------------+---------------------------------+
|     | zoom_level      | "INTEGER"                       |
|     +-----------------+---------------------------------+
|     | tile_column     | "INTEGER"                       |
|     +-----------------+---------------------------------+
|     | tile_row        | "INTEGER"                       |
|     +-----------------+---------------------------------+
|     | tile_data       | "BLOB (TIFF)"                   |
+-----+-----------------+---------------------------------+

Where tile_data is a tiff blob holding Float32 values as per
GeoPackage specifications.

In either case, the product values are in the units
specified in "application_info.info.crop.unit".

 Harvesting "application_info.info" is a JSON object
serialized as a string, such as:

+-----------------------------------------------+
| {                                             |
|   "crop": {                                   |
|     "crop_id": "&lt;crop_id&gt;",                   |
|     "unit": "kg|count"                        |
|   },                                          |
|   "amount": &lt;amount&gt;                          |
| }                                             |
+-----------------------------------------------+

The "crop_id" attribute is defined as per
ANNEX 1 – Crop Reference Data. The "amount" attribute is the
total amount of crops (in the specified units) harvested in
the entire field; it must match the sum of all values in the
"yield" table.

<h2>6.1.5 Sowing Application Type</h2>

In addition to the base tables, a sowing application result
GeoPackage MUST contain a "seed_or_plant" table.

+=========================================================+
|                TABLE gpkg_contents                      |
+=====+=============+=====================================+
| ROW | COLUMN      | VALUE                               |
+-----+-------------+-------------------------------------+
|                    …                                    |
+-----+-------------+-------------------------------------+
|     | table_name  | "seed"                              |
|     +-------------+-------------------------------------+
|     | data_type   | "2d-gridded-coverage|features"      |
+-----+-------------+-------------------------------------+

If the data_type of the "product" table is "features", then
the columns must be as follows:

+=========================================================+
|                    TABLE seed                           |
+=====+=================+=================================+
| ROW | COLUMN          | VALUE                           |
+-----+-----------------+---------------------------------+
|     | id              | "INTEGER"                       |
|     +-----------------+---------------------------------+
|     | geometry        | "GeoPackage Geometry"           |
|     +-----------------+---------------------------------+
|     | amount          | "amount in seed units (REAL)"   |
+-----+-----------------+---------------------------------+

Instead, if the data_type of the product table is
"2d-gridded-coverage" then it must be defined as follows:

+=========================================================+
|                    TABLE seed                           |
+=====+=================+=================================+
| ROW | COLUMN          | VALUE                           |
+-----+-----------------+---------------------------------+
|     | id              | "INTEGER"                       |
|     +-----------------+---------------------------------+
|     | zoom_level      | "INTEGER"                       |
|     +-----------------+---------------------------------+
|     | tile_column     | "INTEGER"                       |
|     +-----------------+---------------------------------+
|     | tile_row        | "INTEGER"                       |
|     +-----------------+---------------------------------+
|     | tile_data       | "BLOB (TIFF)"                   |
+-----+-----------------+---------------------------------+

Where tile_data is a tiff blob holding Float32 values as per
GeoPackage specifications.

In either case, the seed values are in the units specified
in "application_info.info.seed.unit".

Sowing "application_info.info" is a JSON object serialized
as a string, such as:

+-----------------------------------------------+
| {                                             |
|   "seed": {                                   |
|     "crop_id": "&lt;crop_id&gt;",                   |
|     "variety": "&lt;optional variety name&gt;",     |
|     "batch_no": "&lt;optional batch number&gt;",    |
|     "unit": "kg|count",                       |
|     "weight_of_1000": &lt;in kg&gt;                 |
|   },                                          |
|   "amount": &lt;amount&gt;                          |
| }                                             |
+-----------------------------------------------+

The "crop_id" attribute is defined as per
ANNEX 1 – Crop Reference Data. The "weight_of_1000"
attribute is the weight in kg for 1000 seeds; it can be
used to map units between kg and count. The "amount"
attribute is the total amount of seed (in the specified
units) sowed in the entire field; it must match the sum of
all values in the "seed" table.

<h2>6.1.6 Other Application Type</h2>

The "other" application type is meant to provide a temporary
solution for application types that have not yet been
standardized.

In addition to the base tables, an "other" application
result GeoPackage MAY contain an arbitrary number of
additional data and attribute tables.

"Other" "application_info.info" is an arbitrary JSON object
serialized as a string with no defined convention. It is
expected that the consumers and producers of these files
will agree on private interpretation of the
"application_info.info" to carry out their operations.

field_data services MUST store "other" application result
GeoPackage files with only minimal generic validation.


<h2>7 Access and Authentication</h2>

Farmers MUST have an account setup on a field_data service
in order to authenticate and access API endpoints. The
service implementor is responsible for the creation of
accounts; it is not covered in the ATLAS Service Template
specifications.

Unless specifically documented in the OpenAPI specifications,
all operation must include credentials in form of Bearer
authentication (also called token authentication). Clients
can obtain an access token on behalf of their user from the
service's authorization server (see ATLAS service pairing).

Some of the information held by field_data services are
considered to be sensitive from a GDPR perspective.The
service's authorization server MUST request the client's
end-user consent at service pairing time in order to deliver
an access token.

<h2>8 Dynamic Behaviour</h2>

The purpose of the diagrams in this section is to illustrate
communication patterns, more complex than plain
request/response API calls, that involve several
interactions and/or asynchronous behaviour. Even though a
sequence diagram representation is used, the diagrams are by
no means to be interpreted as UML Sequence Diagrams.
Specifically, in the spirit of focusing on functional
behaviour and readability, error handling is deliberately
not covered in the diagram.

<h2>8.1 Subscriptions</h2>

The service template mandates a "notification event" pattern.
In this pattern, only the information that an event
(creation, update, deletion) has occurred will be sent (see
Subscription Notification), and in case of updates, the kind
of information that changed. It is up to the subscriber to
decide whether the event is relevant and whether to perform
a data query upon reception of the notification or not.

<img src="doc/subscription.png" style="width: 420px" />

A notification is considered successful if the client
returns a http result code 2XX.

Errors may occur during notification delivery. Depending on
the type of error, services must react in different ways:

i) Network error - the connection to the client's host
(from notification URL) cannot be established. The service
MUST retry a certain number of times. The number of retries
and possible backoff strategy is left at the discretion of
the service implementer. If the

ii) Server errors (5XX result code) – these errors are
potentially transient. The same strategy as for Network
errors SHOULD be applied.

iii) Client errors (4XX result code) – typically when the
notification URL is invalid, or the authentication is
invalid/expired. 4XX errors should never be sent for
transient client-side conditions and therefore services
SHOULD NOT attempt retries.

Upon an excessive number of errors, services MAY
automatically cancel a subscription. In that case, they
SHOULD perform a "soft" cancellation where, instead of
deleting the subscription record, a subscription can be
reactivated upon reception of a refresh_subscription call.

<h2>8.2 Subscription Notification</h2>

The notification URL supplied by the subscriber MUST be
invoked with an HTTP POST command.

When a notification authorisation parameter was supplied by
the subscriber, the service MUST include a bearer token
authentication in the form of an HTTP header:

Authorization: bearer &lt;notification authorization&gt;

A notification payload describing the type of event MUST be
included:

  {
    "subscription_id": "&lt;my subscription id&gt;",
    "date": "&lt;ISO 8601 UTC date/time&gt;",
    "field_urn": "&lt;target field URN&gt;",
    "event ": "&lt;CREATED|UPDATED|DELETED&gt;",
    "changes": ["attributes"]
  }

In case of an UPDATE event, services SHOULD include the name
of the attributes that were changed in the form of attribute
JSONPaths. This allows subscribers to filter relevant
notifications based on the field data that is relevant to
their purpose. In the absence of changed attributes
information, the subscriber must assume that all attributes
have changed.

Notifications are generated for the following "attributes":
    - base
    - crop (for any change in crop details or crop_history)
    - driving_path (for any change in driving path)
    - applications (after application results are added)

Implementations of field_data are responsible for providing
end-user configuration and management tools in their
proprietary user interface, such as import from a shapefile,
boundary editing in the browser, … Changes generated by
these tools must generate an appropriate notification where
relevant.

<h2>ANNEX 1 – Crop Reference Data</h2>

Crop IDs in ATLAS are taken from the FAO's LIST OF CROPS,
BOTANICAL NAME AND CODE NUMBER (<a href="http://www.fao.org/economic/the-statistics-division-ess/world-census-of-agriculture/programme-for-the-world-census-of-agriculture-2000/appendix-3-alphabetical-list-of-crops-botanical-name-and-code-number/en/">http://www.fao.org/economic/
the-statistics-division-ess/world-census-of-agriculture/
programme-for-the-world-census-of-agriculture-2000/
appendix-3-alphabetical-list-of-crops-botanical-name-
and-code-number/en/</a>)

Only the crop id scheme is fundamentally relevant as a common
reference. Software applications are free to provide their
preferred names and translations.

<table>
    <tr><td>CROP</td><td>BOTANICAL NAME</td><td>CROP ID</td></tr>
    <tr><td>Abaca (Manila hemp)</td><td>Musa textilis</td><td>2.2.4.1</td></tr>
    <tr><td>Alfalfa for fodder</td><td>Medicago sativa</td><td>1.7.1.1</td></tr>
    <tr><td>Alfalfa for seed</td><td>Medicago sativa</td><td>1.8.2</td></tr>
    <tr><td>Almond</td><td>Prunus dulcis</td><td>2.1.7.1</td></tr>
    <tr><td>Anise seeds</td><td>Pimpinella anisum</td><td>1.1.4.3.4</td></tr>
    <tr><td>Apple</td><td>Malus sylvestris</td><td>2.1.2.1</td></tr>
    <tr><td>Apricot</td><td>Prunus armeniaca</td><td>2.1.3.1</td></tr>
    <tr><td>Areca (betel nut)</td><td>Areca catechu</td><td>2.2.7.6</td></tr>
    <tr><td>Arracha</td><td>Arracacia xanthorhiza</td><td>1.2.9</td></tr>
    <tr><td>Arrowroot</td><td>Maranta arundinacea</td><td>1.2.5</td></tr>
    <tr><td>Artichoke</td><td>Cynara scolymus</td><td>1.5.1.0.1</td></tr>
    <tr><td>Artichoke, Jerusalem</td><td>Helianthus tuberosus</td><td>1.7.5.0.2</td></tr>
    <tr><td>Asparagus</td><td>Asparagus officinalis</td><td>1.5.1.0.2</td></tr>
    <tr><td>Avocado</td><td>Persea americona</td><td>2.1.6.0.1</td></tr>
    <tr><td>Bajra (millet)</td><td>Pennisetum americanum</td><td>1.1.5.1.2</td></tr>
    <tr><td>Bambara groundnuts</td><td>Vigna subterranea</td><td>1.3.9</td></tr>
    <tr><td>Banana</td><td>Musa paradisiaca</td><td>2.1.6.0.2</td></tr>
    <tr><td>Barley</td><td>Hordeum vulgare</td><td>1.1.4</td></tr>
    <tr><td>Bean, dry, edible</td><td>Phaseolus vulgaris</td><td>1.3.1</td></tr>
    <tr><td>Bean, harvested green</td><td>Phaseolus vigna spp.</td><td>1.5.4.1</td></tr>
    <tr><td>Beet, fodder (mangel)</td><td>Beta vulgaris</td><td>1.7.5.0.5</td></tr>
    <tr><td>Beet, red</td><td>Beta vulgaris</td><td>1.5.3.5</td></tr>
    <tr><td>Beet, sugar</td><td>Beta vulgaris</td><td>1.4.1.2</td></tr>
    <tr><td>Beet, sugar for fodder</td><td>Beta vulgaris</td><td>1.7.5.0.6</td></tr>
    <tr><td>Bergamot</td><td>Citrus bergamia</td><td>2.1.1.6</td></tr>
    <tr><td>Betel nut</td><td>Areca catechu</td><td>2.2.7.6</td></tr>
    <tr><td>Blackberry</td><td>Rubus spp.</td><td>2.1.5.7</td></tr>
    <tr><td>Black pepper</td><td>Piper nigrum</td><td>2.2.3.1</td></tr>
    <tr><td>Black wattle</td><td>Acacia mearnsii</td><td>2.2.5.2</td></tr>
    <tr><td>Blueberry</td><td>Vaccinium spp.</td><td>2.1.5.1</td></tr>
    <tr><td>Brazil nut</td><td>Bertholletia excelsa</td><td>2.1.7.6</td></tr>
    <tr><td>Breadfruit</td><td>Artocarpus altilis</td><td>2.1.6.0.3</td></tr>
    <tr><td>Broad bean, dry</td><td>Vicia faba</td><td>1.3.2</td></tr>
    <tr><td>Broad bean, harvested green</td><td>Vicia faba</td><td>1.5.4.3</td></tr>
    <tr><td>Broccoli and cauliflower</td><td>Brassica oleracea botrytis</td><td>1.5.5.1</td></tr>
    <tr><td>Broom millet</td><td>Sorghum bicolor</td><td>1.4.5.4</td></tr>
    <tr><td>Broom sorghum</td><td>Sorghum bicolor</td><td>1.4.5.4</td></tr>
    <tr><td>Brussels sprouts</td><td>Brassica oleracea gemmifera</td><td>1.5.1.0.3</td></tr>
    <tr><td>Buckwheat</td><td>Fagopyrum esculentum</td><td>1.1.9</td></tr>
    <tr><td>Cabbage (red, white, Savoy)</td><td>Brassica oleracea capitata</td><td>1.5.1.0.4</td></tr>
    <tr><td>Cabbage, Chinese</td><td>Brassica rapa</td><td>1.5.1.0.7</td></tr>
    <tr><td>Cabbage, for fodder</td><td>Brassica spp.</td><td>1.7.5.0.1</td></tr>
    <tr><td>Cacao (cocoa)</td><td>Theobroma cacao</td><td>2.2.1.2</td></tr>
    <tr><td>Cantaloupe and other melons</td><td>Cucumis melo</td><td>1.5.2.0.1</td></tr>
    <tr><td>Caraway seeds</td><td>Carum carvi</td><td>1.4.3.4</td></tr>
    <tr><td>Cardamom</td><td>Elettaria cardamomum</td><td>2.2.3.7</td></tr>
    <tr><td>Cardoon</td><td>Cynara cardunculus</td><td>1.5.1.1.5</td></tr>
    <tr><td>Carob</td><td>Ceratonia siliqua</td><td>2.1.6.1.5</td></tr>
    <tr><td>Carrot, edible</td><td>Daucus carota</td><td>1.5.3.1</td></tr>
    <tr><td>Carrot, for fodder</td><td>Daucus carota</td><td>1.7.5.1.0</td></tr>
    <tr><td>Cashew nuts</td><td>Anacardium occidentale</td><td>2.1.7.2</td></tr>
    <tr><td>Cassava (manioc)</td><td>Manihot esculenta</td><td>1.2.3</td></tr>
    <tr><td>Castor bean</td><td>Ricinus communis</td><td>1.4.2.1.0</td></tr>
    <tr><td>Cauliflower and broccoli</td><td>Brassica oleracea botrytis</td><td>1.5.5.1</td></tr>
    <tr><td>Celeriac</td><td>Apium graveolens</td><td>1.5.3.8</td></tr>
    <tr><td>Celery</td><td>Apium graveolens</td><td>1.5.3.8</td></tr>
    <tr><td>Chayote</td><td>Sechium edule</td><td>1.5.2.1.2</td></tr>
    <tr><td>Cherry (including sour)</td><td>Prunus spp.</td><td>2.1.3.2</td></tr>
    <tr><td>Chesnut</td><td>Castanea sativa</td><td>2.1.7.4</td></tr>
    <tr><td>Chickpea (gram pea)</td><td>Cicer arietinum</td><td>1.3.4</td></tr>
    <tr><td>Chicory</td><td>Cichorium intybus</td><td>1.4.5.2</td></tr>
    <tr><td>Chicory for greens</td><td>Cichorium intybus</td><td>1.5.1.0.6</td></tr>
    <tr><td>Chilly, dry</td><td>Capsicum spp.</td><td>1.4.3.1</td></tr>
    <tr><td>Chilly, fresh</td><td>Capsicum spp.</td><td>1.5.2.0.2</td></tr>
    <tr><td>Chinese cabbage</td><td>Brassica rapa</td><td>1.5.1.0.7</td></tr>
    <tr><td>Cinnamon</td><td>Cinnamomum verum</td><td>2.2.3.2</td></tr>
    <tr><td>Citronella</td><td>Cymbopogon nardus</td><td>2.2.7.1</td></tr>
    <tr><td>Citron</td><td>Citrus medica</td><td>2.1.1.6</td></tr>
    <tr><td>Clementine</td><td>Citrus veticulata</td><td>2.1.1.2</td></tr>
    <tr><td>Clover for fodder</td><td>Trifolium spp.</td><td>1.7.1.2</td></tr>
    <tr><td>Clover for seed</td><td>Trifolium spp.</td><td>1.8.3</td></tr>
    <tr><td>Clove</td><td>Syzygium aromaticum</td><td>2.2.3.3</td></tr>
    <tr><td>Cocoa (cacao)</td><td>Theobroma cacao</td><td>2.2.1.2</td></tr>
    <tr><td>Coconut</td><td>Cocos nucifera</td><td>2.2.2.1</td></tr>
    <tr><td>Cocoyam</td><td>Colocasia spp.; Xanthosoma spp.</td><td>1.2.8</td></tr>
    <tr><td>Coffee</td><td>Coffee spp.</td><td>2.2.1.1</td></tr>
    <tr><td>Cola</td><td>Cola spp.</td><td>2.2.1.6</td></tr>
    <tr><td>Colza (rapeseed)</td><td>Brassica napus</td><td>1.4.2.0.5</td></tr>
    <tr><td>Corn (maize)</td><td>Zea mays</td><td>1.1.3</td></tr>
    <tr><td>Corn (maize), for silage</td><td>Zea mays</td><td>1.7.3.1</td></tr>
    <tr><td>Corn (sweet)</td><td>Zea mays</td><td>1.5.5.2</td></tr>
    <tr><td>Corn salad</td><td>Valerianella locusta</td><td>1.5.1.1.5</td></tr>
    <tr><td>Cotton</td><td>Gossypium spp.</td><td>1.4.4.1</td></tr>
    <tr><td>Cottonseed</td><td>Gossypium spp.</td><td>1.4.2.0.8</td></tr>
    <tr><td>Cowpea</td><td>Vigna unguiculata</td><td>1.3.6</td></tr>
    <tr><td>Cowpea, harvested green</td><td>Vigna unguiculata</td><td>1.5.4.3</td></tr>
    <tr><td>Cranberry</td><td>Vaccinium spp.</td><td>2.1.5.2</td></tr>
    <tr><td>Cress</td><td>Lepidium sativum</td><td>1.5.1.0.8</td></tr>
    <tr><td>Cucumber</td><td>Cucumis sativus</td><td>1.5.2.0.3</td></tr>
    <tr><td>Currants</td><td>Ribes spp.</td><td>2.1.5.3</td></tr>
    <tr><td>Custard apple</td><td>Annona reticulata</td><td>2.1.6.0.4</td></tr>
    <tr><td>Dasheen</td><td>Colocasia esculenta</td><td>1.2.8</td></tr>
    <tr><td>Dates</td><td>Phoenix dactylifera</td><td>2.1.6.0.5</td></tr>
    <tr><td>Drumstick tree</td><td>Moringa oleifera</td><td>2.2.3.8</td></tr>
    <tr><td>Dry, bean, edible</td><td>Phaseolus spp.</td><td>1.3.1</td></tr>
    <tr><td>Dry broad bean</td><td>Vicia faba</td><td>1.3.2</td></tr>
    <tr><td>Dry chilli</td><td>Capsicum spp.</td><td>1.4.3.1</td></tr>
    <tr><td>Dry garlic</td><td>Allium sativum</td><td>1.2.7</td></tr>
    <tr><td>Dry onion</td><td>Allium cepa</td><td>1.2.6</td></tr>
    <tr><td>Dry pea, edible</td><td>Pisum sativum</td><td>1.3.3</td></tr>
    <tr><td>Dry pepper</td><td>Capsicum spp.</td><td>1.4.3.1</td></tr>
    <tr><td>Durum wheat</td><td>Triticum durum</td><td>1.1.1.1.1</td></tr>
    <tr><td>Durum wheat</td><td>Triticum durum</td><td>1.1.1.2.1</td></tr>
    <tr><td>Durra (sorghum)</td><td>Sorghum bicolor</td><td>1.1.5.2</td></tr>
    <tr><td>Earth pea (bambara groundnut)</td><td>Vigna subterranea</td><td>1.3.9</td></tr>
    <tr><td>Edo (eddoe)</td><td>Xanthosoma spp.; Colocasia spp.</td><td>1.2.8</td></tr>
    <tr><td>Eggplant</td><td>Solanum melongena</td><td>1.5.2.0.4</td></tr>
    <tr><td>Endive</td><td>Cichorium endivia</td><td>1.5.1.0.9</td></tr>
    <tr><td>Esparto grass</td><td>Lygeum spartum</td><td>1.4.5.4</td></tr>
    <tr><td>Fennel</td><td>Foeniculum vulgare</td><td>1.5.1.1.5</td></tr>
    <tr><td>Fenugreek</td><td>Trigonella foenumgraecum</td><td>1.3.9</td></tr>
    <tr><td>Fig</td><td>Ficus carica</td><td>2.1.6.0.6</td></tr>
    <tr><td>Filbert (hazelnut)</td><td>Corylus avellana</td><td>2.1.7.5</td></tr>
    <tr><td>Fique</td><td>Furcraea macrophylla</td><td>2.2.4.6</td></tr>
    <tr><td>Flax for fibre</td><td>Linum usitatissimum</td><td>1.4.4.2</td></tr>
    <tr><td>Flax for oil seed (linseed)</td><td>Linum usitatissimum</td><td>1.4.2.0.3</td></tr>
    <tr><td>Fodder beet (mangel) </td><td>Beta vulgaris</td><td>1.7.5.0.5</td></tr>
    <tr><td>Formio (New Zealand flax)</td><td>Phormium tenax</td><td>2.2.4.4</td></tr>
    <tr><td>Garlic, dry</td><td>Allium sativum</td><td>1.2.7</td></tr>
    <tr><td>Garlic, green</td><td>Allium sativum</td><td>1.5.3.2</td></tr>
    <tr><td>Geranium</td><td>Pelargonium spp.; Geranium spp.</td><td>1.4.3.2</td></tr>
    <tr><td>Ginger</td><td>Zingiber officinalis</td><td>2.2.3.4</td></tr>
    <tr><td>Gooseberry</td><td>Ribes spp.</td><td>2.1.5.4</td></tr>
    <tr><td>Gourd</td><td>Langenaria spp; Cucurbita spp.</td><td>1.5.2.0.5</td></tr>
    <tr><td>Gram pea (chickpea)</td><td>Cicer arietinum</td><td>1.3.4</td></tr>
    <tr><td>Grapefruit</td><td>Citrus paradisi</td><td>2.1.1.4</td></tr>
    <tr><td>Grape</td><td>Vitis vinifera</td><td>2.1.4</td></tr>
    <tr><td>Grapes for raisins</td><td>Vitis vinifera</td><td>2.1.4.3</td></tr>
    <tr><td>Grapes for table use</td><td>Vitis vinifera</td><td>2.1.4.2</td></tr>
    <tr><td>Grapes for wine</td><td>Vitis vinifera</td><td>2.1.4.1</td></tr>
    <tr><td>Grass esparto</td><td>Lygeum spartum</td><td>1.4.5.4</td></tr>
    <tr><td>Grass, orchard</td><td>Dactylis glomerata</td><td>1.7.2.1</td></tr>
    <tr><td>Grass, Sudan</td><td>Sorghum bicolor</td><td>1.7.2.1</td></tr>
    <tr><td>Green garlic</td><td>Allium sativum</td><td>1.5.3.2</td></tr>
    <tr><td>Green onion</td><td>Allium cepa</td><td>1.5.3.3</td></tr>
    <tr><td>Groundnut (peanut)</td><td>Arachis hypogaea</td><td>1.4.2.0.1</td></tr>
    <tr><td>Guava</td><td>Psidium guajava</td><td>2.1.6.0.7</td></tr>
    <tr><td>Guinea corn (sorghum) </td><td>Sorghum bicolor</td><td>1.1.5.2</td></tr>
    <tr><td>Hazelnut (filbert)</td><td>Corylus avellana</td><td>2.1.7.5</td></tr>
    <tr><td>Hemp fibre</td><td>Cannabis sativa</td><td>1.4.4.3</td></tr>
    <tr><td>Hemp, Manila (abaca)</td><td>Musa textilis</td><td>2.2.4.1</td></tr>
    <tr><td>Hempseed</td><td>Cannabis sativa</td><td>1.4.2.1.1</td></tr>
    <tr><td>Hemp, sunn</td><td>Crotalaria juncea</td><td>1.4.4.5</td></tr>
    <tr><td>Henequen</td><td>Agave fourcroydes</td><td>2.2.4.2</td></tr>
    <tr><td>Henna</td><td>Lawsonia inermis</td><td>1.4.5.4</td></tr>
    <tr><td>Hop</td><td>Humulus lupulus</td><td>2.2.1.4</td></tr>
    <tr><td>Horse bean </td><td>Vicia faba</td><td>1.3.2</td></tr>
    <tr><td>Horseradish</td><td>Armoracia rusticana</td><td>1.5.3.8</td></tr>
    <tr><td>Hybrid maize</td><td>Zea mays</td><td>1.1.3.1</td></tr>
    <tr><td>Indigo</td><td>Indigofera tinctoria</td><td>1.4.5.4</td></tr>
    <tr><td>Jasmine</td><td>Jasminum spp.</td><td>2.2.6.2</td></tr>
    <tr><td>Jerusalem artichoke</td><td>Helianthus tuberosus</td><td>1.7.5.0.2</td></tr>
    <tr><td>Jute</td><td>Corchorus spp.</td><td>1.4.4.4</td></tr>
    <tr><td>Jowar (sorghum)</td><td>Sorghum bicolor</td><td>1.1.5.2</td></tr>
    <tr><td>Kale</td><td>Brassica oleracea acephala</td><td>1.5.1.1.0</td></tr>
    <tr><td>Kapok</td><td>Ceiba pentandra</td><td>2.2.4.3</td></tr>
    <tr><td>Kenaf</td><td>Hibiscus cannabinus</td><td>1.4.4.5</td></tr>
    <tr><td>Kohlrabi</td><td>Brassica oleracea gongylodes</td><td>1.5.3.6</td></tr>
    <tr><td>Lavender</td><td>Lavandula spp.</td><td>1.4.3.2</td></tr>
    <tr><td>Leek</td><td>Allium ampeloprasum</td><td>1.5.1.1.1</td></tr>
    <tr><td>Lemon</td><td>Citrus limon</td><td>2.1.1.3</td></tr>
    <tr><td>Lemon grass</td><td>Cymbopogon citratus</td><td>2.2.7.7</td></tr>
    <tr><td>Lentil</td><td>Lens culinaris</td><td>1.3.5</td></tr>
    <tr><td>Lespedeza</td><td>Lespendeza spp.</td><td>1.7.1.3</td></tr>
    <tr><td>Lettuce</td><td>Lactuca sativa</td><td>1.5.1.1.2</td></tr>
    <tr><td>Liquorice</td><td>Glycyrrhiza glabra</td><td>1.4.3.3</td></tr>
    <tr><td>Lime, sour</td><td>Citrus aurantifolia</td><td>2.1.1.5</td></tr>
    <tr><td>Lime, sweet</td><td>Citrus limetta</td><td>2.1.1.6</td></tr>
    <tr><td>Linseed (flax for oil seed)</td><td>Linum usitatissimum</td><td>1.4.2.0.3</td></tr>
    <tr><td>Litchi</td><td>Litchi chinensis</td><td>2.1.6.1.5</td></tr>
    <tr><td>Loquat</td><td>Eriobotrya japonica</td><td>2.1.2.5</td></tr>
    <tr><td>Lupine</td><td>Lupinus spp.</td><td>1.3.9</td></tr>
    <tr><td>Macadamia (Queensland nut)</td><td>Macadamia spp.</td><td>2.1.7.6</td></tr>
    <tr><td>Mace and nutmeg</td><td>Myristica fragrans</td><td>2.2.3.5</td></tr>
    <tr><td>Maguey</td><td>Agave atrovirens</td><td>2.2.4.6</td></tr>
    <tr><td>Maize (corn)</td><td>Zea mays</td><td>1.1.3</td></tr>
    <tr><td>Maize (hybrid)</td><td>Zea mays</td><td>1.1.3.1</td></tr>
    <tr><td>Maize, ordinary</td><td>Zea mays</td><td>1.1.3.2</td></tr>
    <tr><td>Maize (corn) for silage</td><td>Zea mays</td><td>1.7.3.1</td></tr>
    <tr><td>Mandarin and tangerine</td><td>Citrus reticulata</td><td>2.1.1.2</td></tr>
    <tr><td>Mangel (fodder beet)</td><td>Beta vulgaris</td><td>1.7.5.0.5</td></tr>
    <tr><td>Mango</td><td>Mangifera indica</td><td>2.1.6.0.8</td></tr>
    <tr><td>Manila hemp (abaca)</td><td>Musa textilis</td><td>2.2.4.1</td></tr>
    <tr><td>Manioc (cassava)</td><td>Manihot esculenta</td><td>1.2.3</td></tr>
    <tr><td>Maslin (mixed cereals)</td><td>Mixture of Triticum spp.; Secale cereale</td><td>1.1.8</td></tr>
    <tr><td>Medlar</td><td>Mespilus germanica</td><td>2.1.2.4</td></tr>
    <tr><td>Melon and cantaloupe</td><td>Cucumis melo</td><td>1.5.2.0.1</td></tr>
    <tr><td>Millet, proso</td><td>Penicum miliaceum</td><td>1.1.5.1.1</td></tr>
    <tr><td>Millet, bajra </td><td>Pennisetum americanum</td><td>1.1.5.1.2</td></tr>
    <tr><td>Millet broom</td><td>Sorghum bicolor</td><td>1.4.5.4</td></tr>
    <tr><td>Millet, bulrush</td><td>Pennisetum americanum</td><td>1.1.5.1.1</td></tr>
    <tr><td>Millet, finger</td><td>Eleusine coracana</td><td>1.1.5.1.1</td></tr>
    <tr><td>Millet, Italian </td><td>Setaria italica</td><td>1.1.5.1.2</td></tr>
    <tr><td>Millet, Japanese</td><td>Echinochloa crusgalli</td><td>1.1.5.1.2</td></tr>
    <tr><td>Millet, pearl</td><td>Pennisetum americanum</td><td>1.1.5.1.1</td></tr>
    <tr><td>Millet and sorghum</td><td>Pennisetum americanum; Eleusine coracana; Sorghum bicolor</td><td>1.1.5</td></tr>
    <tr><td>Mint</td><td>Mentha spp.</td><td>1.4.3.2</td></tr>
    <tr><td>Mulberry for fruit</td><td>Morus spp.</td><td>2.1.6.1.5</td></tr>
    <tr><td>Mulberry for silkworms </td><td>Morus alba</td><td>2.2.7.2</td></tr>
    <tr><td>Mushrooms</td><td>Agaricus spp.; Pleurotus spp. Volvariella</td><td>1.6.2.2</td></tr>
    <tr><td>Mustard</td><td>Brassica nigra; Sinapis alba</td><td>1.4.2.0.6</td></tr>
    <tr><td>Nectarine</td><td>Prunus persica</td><td>2.1.3.5</td></tr>
    <tr><td>New Zealand flax (formio)</td><td>Phormium tenax</td><td>2.2.4.4</td></tr>
    <tr><td>Niger seed</td><td>Guizotia abyssinica</td><td>1.4.2.1.1</td></tr>
    <tr><td>Nutmeg and mace </td><td>Myristica fragrans</td><td>2.2.3.5</td></tr>
    <tr><td>Oats, for fodder</td><td>Avena spp.</td><td>1.7.3.2</td></tr>
    <tr><td>Oats, for grain</td><td>Avena spp.</td><td>1.1.6</td></tr>
    <tr><td>Oil palm</td><td>Elaeis guineensis</td><td>2.2.2.2</td></tr>
    <tr><td>Okra</td><td>Abelmoschus esculentus</td><td>1.5.2.0.6</td></tr>
    <tr><td>Olive</td><td>Olea europea</td><td>2.2.2.3</td></tr>
    <tr><td>Onion, dry </td><td>Allium cepa</td><td>1.2.6</td></tr>
    <tr><td>Onion, green</td><td>Allium cepa</td><td>1.5.3.3</td></tr>
    <tr><td>Onion seed</td><td>Allium cepa</td><td>1.8.5</td></tr>
    <tr><td>Opium</td><td>Papaver somniferum</td><td>1.4.3.3</td></tr>
    <tr><td>Orange</td><td>Citrus sinensis</td><td>2.1.1.1</td></tr>
    <tr><td>Orange, bitter</td><td>Citrus aurantium</td><td>2.1.1.6</td></tr>
    <tr><td>Orchard grass</td><td>Dactylis glomerata</td><td>1.7.2.1</td></tr>
    <tr><td>Ornamental plants </td><td>&nbsp;</td><td>1.6.1.2</td></tr>
    <tr><td>Palm, oil</td><td>Elaeis guineensis</td><td>2.2.2.2</td></tr>
    <tr><td>Palm, sago</td><td>Metroxylon spp.</td><td>2.2.7.3</td></tr>
    <tr><td>Palmyra palm</td><td>Borassus flabellifer</td><td>2.2.7.4</td></tr>
    <tr><td>Papaya (pawpaw) </td><td>Carica papaya</td><td>2.1.6.0.9</td></tr>
    <tr><td>Parsnip</td><td>Pastinaca sativa</td><td>1.5.3.8</td></tr>
    <tr><td>Peach</td><td>Prunus persica</td><td>2.1.3.3</td></tr>
    <tr><td>Peanut (groundnut)</td><td>Arachis hypogaea</td><td>1.4.2.0.1</td></tr>
    <tr><td>Pear</td><td>Pyrus communis</td><td>2.1.2.2</td></tr>
    <tr><td>Pea, edible dry</td><td>Pisum sativum</td><td>1.3.3</td></tr>
    <tr><td>Pea, harvested green</td><td>Pisum sativum</td><td>1.5.4.2</td></tr>
    <tr><td>Pecan nut</td><td>Carya illinoensis</td><td>2.1.7.6</td></tr>
    <tr><td>Pepper, black</td><td>Piper nigrum</td><td>2.2.3.1</td></tr>
    <tr><td>Pepper, dry</td><td>Capsicum spp.</td><td>1.4.3.1</td></tr>
    <tr><td>Pepper, sweet </td><td>Capsicum annuum</td><td>1.5.2.0.9</td></tr>
    <tr><td>Persimmon</td><td>Diospyros kaki; Diospyros virginiana</td><td>2.1.6.1.0</td></tr>
    <tr><td>Pigeon pea</td><td>Cajanus cajan</td><td>1.3.7</td></tr>
    <tr><td>Pimento</td><td>Capsicum annuum</td><td>1.4.3.1</td></tr>
    <tr><td>Pineapple</td><td>Ananas comosus</td><td>2.1.6.1.1</td></tr>
    <tr><td>Pistachio nut</td><td>Pistacia spp.</td><td>2.1.7.6</td></tr>
    <tr><td>Plantain</td><td>Musa paradisiaca</td><td>2.1.6.1.2</td></tr>
    <tr><td>Plum and prune</td><td>Prunus domestica</td><td>2.1.3.4</td></tr>
    <tr><td>Pomegranate</td><td>Punica granatum</td><td>2.1.6.1.3</td></tr>
    <tr><td>Pomelo</td><td>Citrus grandis</td><td>2.1.1.4</td></tr>
    <tr><td>Poppy seed</td><td>Papaver somniferum</td><td>1.4.2.1.1</td></tr>
    <tr><td>Potato</td><td>Solamum tuberosum</td><td>1.2.1</td></tr>
    <tr><td>Potato, sweet</td><td>Ipomoea batatas</td><td>1.2.2</td></tr>
    <tr><td>Prune and plum </td><td>Prunus domestica</td><td>2.1.3.4</td></tr>
    <tr><td>Pumpkin, edible</td><td>Cucurbita spp.</td><td>1.5.2.0.7</td></tr>
    <tr><td>Pumpkin, for fodder</td><td>Cucurbita spp.</td><td>1.7.5.0.3</td></tr>
    <tr><td>Pyrethum</td><td>Chrysanthemum cineraraiefolium</td><td>1.4.5.3</td></tr>
    <tr><td>Quebracho</td><td>Aspidosperma spp.</td><td>2.2.5.3</td></tr>
    <tr><td>Queensland nut (Macadamia)</td><td>Macadamia spp.</td><td>2.1.7.6</td></tr>
    <tr><td>Quince</td><td>Cydonia oblonga</td><td>2.1.2.3</td></tr>
    <tr><td>Quinine</td><td>Cinchona spp.</td><td>2.2.7.5</td></tr>
    <tr><td>Quinoa</td><td>Chenopodium quinoa</td><td>1.1.9</td></tr>
    <tr><td>Radish</td><td>Raphanus sativus (including Cochlearia armoracia)</td><td>1.5.3.4</td></tr>
    <tr><td>Ramie and rhea</td><td>Boehmeria nivea</td><td>2.2.4.5</td></tr>
    <tr><td>Rapeseed (colza)</td><td>Brassica napus</td><td>1.4.2.0.5</td></tr>
    <tr><td>Raspberry</td><td>Rubus spp.</td><td>2.1.5.5</td></tr>
    <tr><td>Red beet</td><td>Beta vulgaris</td><td>1.5.3.5</td></tr>
    <tr><td>Red cabbage </td><td>Brassica oleracea capitata</td><td>1.5.1.0.4</td></tr>
    <tr><td>Redtop</td><td>Agrostis spp.</td><td>1.7.2.1</td></tr>
    <tr><td>Rhea and ramie </td><td>Boehmeria nivea</td><td>2.2.4.5</td></tr>
    <tr><td>Rhubarb</td><td>Rheum spp.</td><td>1.5.1.1.3</td></tr>
    <tr><td>Rice</td><td>Oryza sativa; Oryza glaberrima</td><td>1.1.2</td></tr>
    <tr><td>Rose</td><td>Rose spp.</td><td>2.2.6.1</td></tr>
    <tr><td>Rubber</td><td>Hevea brasiliensis</td><td>2.2.5.1</td></tr>
    <tr><td>Rutabaga or swede</td><td>Brassica napus</td><td>1.5.3.6</td></tr>
    <tr><td>Rye</td><td>Secale cereale</td><td>1.1.7</td></tr>
    <tr><td>Ryegrass seed</td><td>Lolium spp.</td><td>1.8.4</td></tr>
    <tr><td>Safflower seed </td><td>Carthamus tinctorius</td><td>1.4.2.0.9</td></tr>
    <tr><td>Sago palm</td><td>Metroxylon spp.</td><td>2.2.7.3</td></tr>
    <tr><td>Sainfoin</td><td>Onobrychis viciifolia</td><td>1.7.1.3</td></tr>
    <tr><td>Salad, corn</td><td>Valerianella locusta</td><td>1.5.1.1.2</td></tr>
    <tr><td>Salsify</td><td>Tragopogon porrifolius</td><td>1.5.3.8</td></tr>
    <tr><td>Sapodilla</td><td>Achras sapota</td><td>2.1.6.1.4</td></tr>
    <tr><td>Satsuma</td><td>Citrus reticulata</td><td>2.1.1.2</td></tr>
    <tr><td>Savoy cabbage</td><td>Brassica ileracea capitata</td><td>1.5.1.0.4</td></tr>
    <tr><td>Scorzonera</td><td>Scorzonera hispanica</td><td>1.5.3.8</td></tr>
    <tr><td>Sesame</td><td>Sesamum indicum</td><td>1.4.2.0.7</td></tr>
    <tr><td>Shea butter</td><td>Butyrospermum paradoxum</td><td>2.2.2.4</td></tr>
    <tr><td>Sisal</td><td>Agave sislana</td><td>2.2.4.2</td></tr>
    <tr><td>Sorghum</td><td>Sorghum bicolor</td><td>1.1.5.2</td></tr>
    <tr><td>Sorghum, broom</td><td>Sorghum bicolor</td><td>1.4.5.4</td></tr>
    <tr><td>Sorghum, durra</td><td>Sorghum bicolor</td><td>1.1.5.2</td></tr>
    <tr><td>Sorghum, Guinea corn</td><td>Sorghum bicolor</td><td>1.1.5.2</td></tr>
    <tr><td>Sorghum, jowar</td><td>Sorghum bicolor</td><td>1.1.5.2</td></tr>
    <tr><td>Sorghum, sweet</td><td>Sorghum bicolor</td><td>1.4.1.3</td></tr>
    <tr><td>Sour lime</td><td>Citrus aurantifolia</td><td>2.1.1.5</td></tr>
    <tr><td>Soybean</td><td>Glycine max</td><td>1.4.2.0.2</td></tr>
    <tr><td>Soybean hay</td><td>Glycine max</td><td>1.7.1.3</td></tr>
    <tr><td>Spelt</td><td>Triticum spelta</td><td>1.1.9</td></tr>
    <tr><td>Spinach</td><td>Spinacia oleracea</td><td>1.5.1.1.4</td></tr>
    <tr><td>Spring barley</td><td>Hordeum vulgare</td><td>1.1.4.2</td></tr>
    <tr><td>Spring rye</td><td>Secale cereale</td><td>1.1.7.2</td></tr>
    <tr><td>Spring wheat</td><td>Triticum aestivum</td><td>1.1.1.2</td></tr>
    <tr><td>Spring wheat, hard</td><td>Triticum aestivum</td><td>1.1.1.2.1</td></tr>
    <tr><td>Spring wheat, soft </td><td>Triticum aestivum</td><td>1.1.1.2.2</td></tr>
    <tr><td>Sprouts, Brussels</td><td>Brassica oleracea gemmifera</td><td>1.5.1.0.3</td></tr>
    <tr><td>Squash</td><td>Cucurbita spp.</td><td>1.5.2.0.8</td></tr>
    <tr><td>Strawberry</td><td>Fragaria spp.</td><td>2.1.5.6</td></tr>
    <tr><td>Sudan grass</td><td>Sorghum bicolor Sudanense</td><td>1.7.2.1</td></tr>
    <tr><td>Sugar beet</td><td>Beta vulgaris</td><td>1.4.1.2</td></tr>
    <tr><td>Sugar beet for fodder </td><td>Beta vulgaris</td><td>1.7.5.0.6</td></tr>
    <tr><td>Sugar beet for seed</td><td>Beta vulgaris</td><td>1.8.1</td></tr>
    <tr><td>Sugarcane for fodder</td><td>Saccharum officinarum</td><td>1.7.5.0.7</td></tr>
    <tr><td>Sugarcane for sugar</td><td>Saccharum officinarum</td><td>1.4.1.1</td></tr>
    <tr><td>Sugarcane for thatching</td><td>Saccharum officinarum</td><td>1.4.5.4</td></tr>
    <tr><td>Sunflower for fodder</td><td>Helianthus annuus</td><td>1.7.5.0.4</td></tr>
    <tr><td>Sunflower for oil seed</td><td>Helianthus annuus</td><td>1.4.2.0.4</td></tr>
    <tr><td>Sunhemp</td><td>Crotalaria juncea</td><td>1.4.4.5</td></tr>
    <tr><td>Swede (rutabaga)</td><td>Brassica napus</td><td>1.5.3.6</td></tr>
    <tr><td>Swede for fodder</td><td>Brassica napus</td><td>1.7.5.0.8</td></tr>
    <tr><td>Sweet corn</td><td>Zea mays</td><td>1.5.5.2</td></tr>
    <tr><td>Sweet lime</td><td>Citrus limetta</td><td>2.1.1.6</td></tr>
    <tr><td>Sweet pepper</td><td>Capsicum annuum</td><td>1.5.2.0.9</td></tr>
    <tr><td>Sweet potato</td><td>Iopmoea batatas</td><td>1.2.2</td></tr>
    <tr><td>Sweet sorghum</td><td>Sorghum bicolor</td><td>1.4.1.3</td></tr>
    <tr><td>Tangerine and mandarin</td><td>Citrus reticulata</td><td>2.1.1.2</td></tr>
    <tr><td>Tannia</td><td>Xanthosoma sagittifolium</td><td>1.2.8</td></tr>
    <tr><td>Tapioca (cassava)</td><td>Manihot esculenta</td><td>1.2.3</td></tr>
    <tr><td>Taro</td><td>Colocasia esculenta</td><td>1.2.8</td></tr>
    <tr><td>Tea</td><td>Camellia sinensis</td><td>2.2.1.3</td></tr>
    <tr><td>Teff</td><td>Eragrostis abyssinica</td><td>1.1.9</td></tr>
    <tr><td>Timothy</td><td>Phleum pratense</td><td>1.7.2.1</td></tr>
    <tr><td>Tobacco</td><td>Nicotiana tabacum</td><td>1.4.5.1</td></tr>
    <tr><td>Tomato</td><td>Lycopersicum esculentum</td><td>1.5.2.1.0</td></tr>
    <tr><td>Trefoil</td><td>Lotus spp.</td><td>1.8.6</td></tr>
    <tr><td>Tung tree</td><td>Aleurites spp.</td><td>2.2.2.4</td></tr>
    <tr><td>Turnip, edible</td><td>Brassica rapa</td><td>1.5.3.7</td></tr>
    <tr><td>Turnip, for fodder</td><td>Brassica rapa</td><td>1.7.5.0.9</td></tr>
    <tr><td>Urena (Congo jute)</td><td>Urena lobata</td><td>1.4.4.5</td></tr>
    <tr><td>Vanilla</td><td>Vanilla planifolia</td><td>2.2.3.6</td></tr>
    <tr><td>Vetch for grain</td><td>Vicia sativa</td><td>1.3.8</td></tr>
    <tr><td>Walnut</td><td>Juglans spp.</td><td>2.1.7.3</td></tr>
    <tr><td>Watermelon</td><td>Citrullus lanatus</td><td>1.5.2.1.1</td></tr>
    <tr><td>Wattle, black</td><td>Acacia mearnsii</td><td>2.2.5.2</td></tr>
    <tr><td>Wheat</td><td>Triticum spp.</td><td>1.1.1</td></tr>
    <tr><td>White cabbage</td><td>Brassica oleracea capitata</td><td>1.5.1.0.4</td></tr>
    <tr><td>Winter barley</td><td>Hordeum spp.</td><td>1.1.4.1</td></tr>
    <tr><td>Winter rye </td><td>Secale cereale</td><td>1.1.7.1</td></tr>
    <tr><td>Winter wheat</td><td>Triticum aestivum</td><td>1.1.1.1</td></tr>
    <tr><td>Winter wheat, hard</td><td>Triticum aestivum</td><td>1.1.1.1.1</td></tr>
    <tr><td>Winter wheat, soft </td><td>Triticum aestivum</td><td>1.1.1.1.2</td></tr>
    <tr><td>Yams</td><td>Dioscorea spp.</td><td>1.2.4</td></tr>
    <tr><td>Yerba mate</td><td>Ilex paraguariensis</td><td>2.2.1.5</td></tr>
</table>

</body>
</html>